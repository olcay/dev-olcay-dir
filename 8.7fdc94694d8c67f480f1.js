(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Z09g:function(e,t,i){"use strict";i.r(t),i.d(t,"PetModule",function(){return me});var a=i("3Pt+"),n=i("ofXK"),s=i("tyNb"),c=i("fXoL");let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Db({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,t){1&e&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.Kb(2,"router-outlet"),c.Nb(),c.Nb())},directives:[s.h],encapsulation:2}),e})();var o=i("nPby"),b=i("J9tS"),l=i("CEyA"),d=i("dPr5"),u=i("vYor");const m=[[["","body",""]],[["","submit",""]]],h=["[body]","[submit]"];let g=(()=>{class e{constructor(e,t){this.modalService=e,this.el=t,this.element=t.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",e=>{"modal jw-modal"===e.target.className&&this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(u.a),c.Jb(c.l))},e.\u0275cmp=c.Db({type:e,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:h,decls:17,vars:0,consts:[["tabindex","-1",1,"modal","jw-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","jw-modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"jw-modal-background"]],template:function(e,t){1&e&&(c.cc(m),c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"div",2),c.Ob(3,"div",3),c.Ob(4,"h5",4),c.oc(5,"Emin misiniz?"),c.Nb(),c.Ob(6,"button",5),c.Vb("click",function(){return t.close()}),c.Ob(7,"span",6),c.oc(8,"\xd7"),c.Nb(),c.Nb(),c.Nb(),c.Ob(9,"div",7),c.Ob(10,"p"),c.bc(11),c.Nb(),c.Nb(),c.Ob(12,"div",8),c.Ob(13,"button",9),c.Vb("click",function(){return t.close()}),c.oc(14,"\u0130ptal"),c.Nb(),c.bc(15,1),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Kb(16,"div",10))},styles:["jw-modal{display:none}jw-modal .jw-modal{position:fixed;top:0;right:0;bottom:0;left:0;display:block;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{padding:20px;background:#fff;margin:40px}jw-modal .jw-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.75;z-index:900}body.jw-modal-open{overflow:hidden}"],encapsulation:2}),e})();function p(e,t){1&e&&c.Kb(0,"span",3)}let f=(()=>{class e{constructor(e,t){this.client=e,this.alertService=t,this.newImageEvent=new c.n,this.pending=!1}processFile(e){let t=[];for(let i of e.target.files)t.push({data:i,fileName:i.name});t.length>0&&(this.pending=!0,this.client.addImage(this.petId,t).subscribe(e=>{this.pending=!1,this.newImageEvent.emit()},e=>{this.pending=!1,this.alertService.error("Resim y\xfcklenemedi.")}))}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(l.f),c.Jb(b.b))},e.\u0275cmp=c.Db({type:e,selectors:[["image-upload"]],inputs:{petId:"petId"},outputs:{newImageEvent:"newImageEvent"},decls:4,vars:1,consts:[[1,"btn","btn-secondary"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","file","accept","image/*","multiple","",1,"d-none",3,"change"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(c.Ob(0,"label",0),c.nc(1,p,1,0,"span",1),c.oc(2," Resim Y\xfckle "),c.Ob(3,"input",2),c.Vb("change",function(e){return t.processFile(e)}),c.Nb(),c.Nb()),2&e&&(c.yb(1),c.dc("ngIf",t.pending))},directives:[n.l],styles:[""]}),e})();function v(e,t){if(1&e){const e=c.Pb();c.Ob(0,"img",22),c.Vb("click",function(){c.jc(e);const i=t.$implicit;return c.Xb().displayImage(i)}),c.Nb()}if(2&e){const e=t.$implicit,i=c.Xb();c.ec("src",e.thumbnailUrl,c.lc),c.ec("alt",i.data.name)}}function y(e,t){if(1&e){const e=c.Pb();c.Ob(0,"div",23),c.Ob(1,"h5",10),c.oc(2,"\u0130lan"),c.Nb(),c.Ob(3,"div",11),c.Ob(4,"div",24),c.Ob(5,"input",25),c.Vb("change",function(){return c.jc(e),c.Xb().onChangeStatus()}),c.Nb(),c.Ob(6,"label",26),c.oc(7),c.Nb(),c.Nb(),c.Kb(8,"br"),c.Ob(9,"image-upload",27),c.Vb("newImageEvent",function(){return c.jc(e),c.Xb().getData()}),c.Nb(),c.Ob(10,"button",28),c.Vb("click",function(){return c.jc(e),c.Xb().openModal("delete-image-modal")}),c.oc(11,"Resim Sil"),c.Nb(),c.Kb(12,"br"),c.Ob(13,"button",29),c.oc(14,"D\xfczenle"),c.Nb(),c.Ob(15,"button",30),c.Vb("click",function(){return c.jc(e),c.Xb().openModal("delete-pet-modal")}),c.oc(16,"Sil"),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=c.Xb();c.yb(5),c.dc("checked","Published"==e.data.petStatus.value),c.yb(2),c.pc(e.data.petStatus.text),c.yb(2),c.dc("petId",e.data.id),c.yb(4),c.fc("routerLink","/pet/edit/",e.data.id,"")}}function O(e,t){1&e&&(c.Ob(0,"span"),c.oc(1,"..."),c.Nb())}function N(e,t){1&e&&(c.Ob(0,"span"),c.oc(1,"..."),c.Nb())}let I=(()=>{class e{constructor(e,t,i,a,n,s){this.accountService=e,this.client=t,this.activatedRoute=i,this.alertService=a,this.router=n,this.modalService=s,this.account=this.accountService.accountValue,this.petId=this.activatedRoute.snapshot.params.id,this.deleting=!1,this.data=[],this.tags=[]}getData(){this.client.getPet(this.petId).subscribe(e=>{var t;this.data=e,(null===(t=e.images)||void 0===t?void 0:t.length)>0&&(this.data.selectedImage=e.images[0]),this.data.isEditable=null!=this.account&&(e.createdBy.id.toString()===this.account.id||this.account.role===o.c.Admin)},e=>console.error(e))}onPetDelete(){this.deleting=!0,this.client.deletePet(this.petId).subscribe(()=>{this.alertService.success("Pet silindi.",{keepAfterRouteChange:!0}),this.router.navigate(["/profile"])})}onImageDelete(){this.deleting=!0,this.client.deleteImage(this.petId,this.data.selectedImage.id).subscribe(()=>{this.closeModal("delete-image-modal"),this.getData()})}ngOnInit(){this.getData()}onChangeStatus(){"Published"==this.data.petStatus.value?this.client.unpublishPet(this.petId).subscribe(()=>{this.getData()}):this.client.publishPet(this.petId).subscribe(()=>{this.getData()})}displayImage(e){this.data.selectedImage=e}openModal(e){this.modalService.open(e)}closeModal(e){this.modalService.close(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(b.a),c.Jb(l.f),c.Jb(s.a),c.Jb(b.b),c.Jb(s.c),c.Jb(d.b))},e.\u0275cmp=c.Db({type:e,selectors:[["ng-component"]],decls:54,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"mt-4"],[3,"routerLink"],[1,"img-fluid","rounded",3,"src","alt"],["class","img-thumbnail mr-2 mb-2",3,"src","alt","click",4,"ngFor","ngForOf"],[1,"lead"],[1,"col-md-4"],[1,"card","border-primary","my-4"],[1,"card-header"],[1,"card-body"],["class","card my-4",4,"ngIf"],[1,"card","border-danger","my-4"],[1,"card-title"],["id","delete-pet-modal"],["body",""],["submit",""],["type","button",1,"btn","btn-danger",3,"disabled","click"],[4,"ngIf"],["id","delete-image-modal"],[1,"img-thumbnail",3,"src","alt"],[1,"img-thumbnail","mr-2","mb-2",3,"src","alt","click"],[1,"card","my-4"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1",1,"custom-control-input",3,"checked","change"],["for","customSwitch1",1,"custom-control-label"],[3,"petId","newImageEvent"],[1,"btn","btn-danger","ml-2","mb-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(c.Ob(0,"section"),c.Ob(1,"div",0),c.Ob(2,"div",1),c.Ob(3,"div",2),c.Ob(4,"h1",3),c.oc(5),c.Nb(),c.Ob(6,"p"),c.oc(7),c.Yb(8,"date"),c.Ob(9,"a",4),c.oc(10),c.Nb(),c.oc(11," taraf\u0131ndan eklendi"),c.Nb(),c.Kb(12,"br"),c.Kb(13,"img",5),c.nc(14,v,1,2,"img",6),c.Kb(15,"br"),c.Kb(16,"br"),c.Ob(17,"p",7),c.oc(18),c.Nb(),c.Nb(),c.Ob(19,"div",8),c.Ob(20,"div",9),c.Ob(21,"h5",10),c.oc(22),c.Nb(),c.Ob(23,"div",11),c.Ob(24,"p"),c.oc(25),c.Nb(),c.Ob(26,"p"),c.oc(27),c.Nb(),c.Ob(28,"p"),c.oc(29),c.Nb(),c.Nb(),c.Nb(),c.nc(30,y,17,4,"div",12),c.Ob(31,"div",13),c.Ob(32,"h5",10),c.oc(33,"Uyar\u0131"),c.Nb(),c.Ob(34,"div",11),c.Ob(35,"h4",14),c.oc(36,"\xdcCRET \u0130STEN\u0130RSE G\xdcVENMEY\u0130N!"),c.Nb(),c.oc(37," Kargo/ta\u015f\u0131ma \xfccreti dahil herhangi bir sebeple \xfccret isteyen ki\u015filere g\xfcvenmeyin. "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(38,"jw-modal",15),c.Mb(39,16),c.oc(40,"Pet kayd\u0131 silinecek. Devam etmek istedi\u011finize emin misiniz?"),c.Lb(),c.Mb(41,17),c.Ob(42,"button",18),c.Vb("click",function(){return t.onPetDelete()}),c.oc(43," Sil"),c.nc(44,O,2,0,"span",19),c.Nb(),c.Lb(),c.Nb(),c.Ob(45,"jw-modal",20),c.Mb(46,16),c.oc(47," Pet resmi silinecek. Devam etmek istedi\u011finize emin misiniz? "),c.Kb(48,"br"),c.Kb(49,"img",21),c.Lb(),c.Mb(50,17),c.Ob(51,"button",18),c.Vb("click",function(){return t.onImageDelete()}),c.oc(52," Sil"),c.nc(53,N,2,0,"span",19),c.Nb(),c.Lb(),c.Nb()),2&e&&(c.yb(5),c.pc(t.data.title),c.yb(2),c.qc("",c.Zb(8,22,t.data.created)," tarihinde "),c.yb(2),c.fc("routerLink","/profile/",null==t.data.createdBy?null:t.data.createdBy.id,""),c.yb(1),c.pc(null==t.data.createdBy?null:t.data.createdBy.displayName),c.yb(3),c.ec("src",null==t.data.selectedImage?null:t.data.selectedImage.url,c.lc),c.ec("alt",t.data.name),c.yb(1),c.dc("ngForOf",t.data.images),c.yb(4),c.pc(t.data.description),c.yb(4),c.pc(t.data.name),c.yb(3),c.rc("",null==t.data.fromWhere?null:t.data.fromWhere.text,", ",null==t.data.city?null:t.data.city.text,""),c.yb(2),c.rc("",null==t.data.gender?null:t.data.gender.text," ",null==t.data.race?null:t.data.race.name,""),c.yb(2),c.rc("",null==t.data.age?null:t.data.age.text," ve ",null==t.data.size?null:t.data.size.text,""),c.yb(1),c.dc("ngIf",t.data.isEditable),c.yb(12),c.dc("disabled",t.deleting),c.yb(2),c.dc("ngIf",t.deleting),c.yb(5),c.ec("src",null==t.data.selectedImage?null:t.data.selectedImage.thumbnailUrl,c.lc),c.ec("alt",t.data.name),c.yb(2),c.dc("disabled",t.deleting),c.yb(2),c.dc("ngIf",t.deleting))},directives:[s.f,n.k,n.l,g,f,s.d],pipes:[n.d],encapsulation:2}),e})();var P=i("SxV6");function V(e,t){if(1&e&&(c.Ob(0,"h1"),c.oc(1),c.Nb()),2&e){const e=c.Xb();c.yb(1),c.qc("",e.pageTitle," \u0130lan\u0131 Ekle")}}function C(e,t){if(1&e&&(c.Ob(0,"h1"),c.oc(1),c.Nb()),2&e){const e=c.Xb();c.yb(1),c.qc("",e.pageTitle," \u0130lan\u0131 G\xfcncelle")}}function k(e,t){1&e&&(c.Ob(0,"div"),c.oc(1,"\u0130sim zorunlu"),c.Nb())}function w(e,t){if(1&e&&(c.Ob(0,"div",21),c.nc(1,k,2,0,"div",0),c.Nb()),2&e){const e=c.Xb();c.yb(1),c.dc("ngIf",e.f.name.errors.required)}}function S(e,t){if(1&e&&(c.Ob(0,"option",22),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.cityId),c.yb(1),c.pc(e.text)}}function x(e,t){1&e&&(c.Ob(0,"div"),c.oc(1,"\u015eehir zorunlu"),c.Nb())}function z(e,t){if(1&e&&(c.Ob(0,"div",21),c.nc(1,x,2,0,"div",0),c.Nb()),2&e){const e=c.Xb();c.yb(1),c.dc("ngIf",e.f.name.errors.required)}}function T(e,t){if(1&e&&(c.Ob(0,"option",22),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.id)("selected",e.id==i.f.raceId),c.yb(1),c.pc(e.name)}}function j(e,t){1&e&&c.Kb(0,"div",21)}function F(e,t){if(1&e&&(c.Ob(0,"option",22),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.genderValue),c.yb(1),c.pc(e.text)}}function X(e,t){1&e&&c.Kb(0,"div",21)}function L(e,t){if(1&e&&(c.Ob(0,"option",22),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.ageValue),c.yb(1),c.pc(e.text)}}function K(e,t){1&e&&c.Kb(0,"div",21)}function W(e,t){if(1&e&&(c.Ob(0,"option",22),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.sizeValue),c.yb(1),c.pc(e.text)}}function A(e,t){1&e&&c.Kb(0,"div",21)}function J(e,t){if(1&e&&(c.Ob(0,"option",22),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.fromWhereValue),c.yb(1),c.pc(e.text)}}function D(e,t){1&e&&c.Kb(0,"div",21)}function B(e,t){1&e&&(c.Ob(0,"div"),c.oc(1,"Ba\u015fl\u0131k zorunlu"),c.Nb())}function E(e,t){if(1&e&&(c.Ob(0,"div",21),c.nc(1,B,2,0,"div",0),c.Nb()),2&e){const e=c.Xb();c.yb(1),c.dc("ngIf",e.f.title.errors.required)}}function $(e,t){1&e&&c.Kb(0,"div",21)}function q(e,t){1&e&&c.Kb(0,"span",23)}const M=function(e){return{"is-invalid":e}};let R=(()=>{class e{constructor(e,t,i,a,n){this.formBuilder=e,this.route=t,this.router=i,this.alertService=a,this.client=n,this.loading=!1,this.submitted=!1,this.data=[]}ngOnInit(){this.route.params.subscribe(e=>{this.petId=e.id,this.petType=e.type,this.fillInTheBlanks()})}fillInTheBlanks(){this.isAddMode=!this.petId,this.form=this.formBuilder.group({name:["",a.l.required],title:["",a.l.required],description:[""],cityId:["",a.l.required],raceId:[""],ageValue:["None"],genderValue:["None"],sizeValue:["None"],fromWhereValue:["None"],petTypeValue:[this.petType]}),this.client.getCities().subscribe(e=>{this.data.cities=e}),this.client.getAges().subscribe(e=>{this.data.ages=e}),this.client.getGenders().subscribe(e=>{this.data.genders=e}),this.client.getSizes().subscribe(e=>{this.data.sizes=e}),this.client.getFromWhere().subscribe(e=>{this.data.fromWhere=e}),this.isAddMode?(this.client.getPetTypes().subscribe(e=>{this.pageTitle=e.find(e=>e.value.toLowerCase()==this.petType).text}),this.client.getRacesForPetType(this.petType).subscribe(e=>{this.data.races=e})):this.client.getPet(this.petId).pipe(Object(P.a)()).subscribe(e=>{this.form.patchValue(e),this.form.patchValue({cityId:e.city.value,raceId:e.race.id,genderValue:e.gender.value,ageValue:e.age.value,sizeValue:e.size.value,fromWhereValue:e.fromWhere.value}),this.pageTitle=e.petType.text,this.client.getRacesForPetType(e.petType.value).subscribe(e=>{this.data.races=e})})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?this.createAccount():this.updateAccount())}createAccount(){this.client.createPet(this.form.value).pipe(Object(P.a)()).subscribe({next:e=>{this.alertService.success("Pet ba\u015far\u0131yla eklendi.",{keepAfterRouteChange:!0}),this.router.navigate(["/pet/"+e.id],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}})}updateAccount(){this.client.updatePet(this.petId,this.form.value).pipe(Object(P.a)()).subscribe({next:()=>{this.alertService.success("G\xfcncelleme ba\u015far\u0131l\u0131.",{keepAfterRouteChange:!0}),this.router.navigate(["/pet/"+this.petId],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}})}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(a.c),c.Jb(s.a),c.Jb(s.c),c.Jb(b.b),c.Jb(l.f))},e.\u0275cmp=c.Db({type:e,selectors:[["ng-component"]],decls:69,vars:47,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","cityId",1,"form-control",3,"ngClass"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","raceId",1,"form-control",3,"ngClass"],["formControlName","genderValue",1,"form-control",3,"ngClass"],["formControlName","ageValue",1,"form-control",3,"ngClass"],["formControlName","sizeValue",1,"form-control",3,"ngClass"],["formControlName","fromWhereValue",1,"form-control",3,"ngClass"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],[1,"form-group","col-7"],["type","text","formControlName","description",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/",1,"btn","btn-link"],[1,"invalid-feedback"],[3,"value","selected"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(c.nc(0,V,2,1,"h1",0),c.nc(1,C,2,1,"h1",0),c.Ob(2,"form",1),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(3,"div",2),c.Ob(4,"div",3),c.Ob(5,"label"),c.oc(6,"\u0130smi *"),c.Nb(),c.Kb(7,"input",4),c.nc(8,w,2,1,"div",5),c.Nb(),c.Nb(),c.Ob(9,"div",2),c.Ob(10,"div",3),c.Ob(11,"label"),c.oc(12,"\u015eehir *"),c.Nb(),c.Ob(13,"select",6),c.Ob(14,"option",7),c.oc(15,"-"),c.Nb(),c.nc(16,S,2,3,"option",8),c.Nb(),c.nc(17,z,2,1,"div",5),c.Nb(),c.Ob(18,"div",3),c.Ob(19,"label"),c.oc(20,"Irk\u0131"),c.Nb(),c.Ob(21,"select",9),c.Ob(22,"option",7),c.oc(23,"-"),c.Nb(),c.nc(24,T,2,3,"option",8),c.Nb(),c.nc(25,j,1,0,"div",5),c.Nb(),c.Nb(),c.Ob(26,"div",2),c.Ob(27,"div",3),c.Ob(28,"label"),c.oc(29,"Cinsiyeti"),c.Nb(),c.Ob(30,"select",10),c.nc(31,F,2,3,"option",8),c.Nb(),c.nc(32,X,1,0,"div",5),c.Nb(),c.Ob(33,"div",3),c.Ob(34,"label"),c.oc(35,"Ya\u015f\u0131"),c.Nb(),c.Ob(36,"select",11),c.nc(37,L,2,3,"option",8),c.Nb(),c.nc(38,K,1,0,"div",5),c.Nb(),c.Nb(),c.Ob(39,"div",2),c.Ob(40,"div",3),c.Ob(41,"label"),c.oc(42,"Boyutu"),c.Nb(),c.Ob(43,"select",12),c.nc(44,W,2,3,"option",8),c.Nb(),c.nc(45,A,1,0,"div",5),c.Nb(),c.Ob(46,"div",3),c.Ob(47,"label"),c.oc(48,"Kimden"),c.Nb(),c.Ob(49,"select",13),c.nc(50,J,2,3,"option",8),c.Nb(),c.nc(51,D,1,0,"div",5),c.Nb(),c.Nb(),c.Ob(52,"div",2),c.Ob(53,"div",3),c.Ob(54,"label"),c.oc(55,"Ba\u015fl\u0131k *"),c.Nb(),c.Kb(56,"input",14),c.nc(57,E,2,1,"div",5),c.Nb(),c.Ob(58,"div",15),c.Ob(59,"label"),c.oc(60,"A\xe7\u0131klama"),c.Nb(),c.Kb(61,"input",16),c.nc(62,$,1,0,"div",5),c.Nb(),c.Nb(),c.Ob(63,"div",17),c.Ob(64,"button",18),c.nc(65,q,1,0,"span",19),c.oc(66," Kaydet "),c.Nb(),c.Ob(67,"a",20),c.oc(68,"\u0130ptal"),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.dc("ngIf",t.isAddMode),c.yb(1),c.dc("ngIf",!t.isAddMode),c.yb(1),c.dc("formGroup",t.form),c.yb(5),c.dc("ngClass",c.hc(29,M,t.submitted&&t.f.name.errors)),c.yb(1),c.dc("ngIf",t.submitted&&t.f.name.errors),c.yb(5),c.dc("ngClass",c.hc(31,M,t.submitted&&t.f.cityId.errors)),c.yb(3),c.dc("ngForOf",t.data.cities),c.yb(1),c.dc("ngIf",t.submitted&&t.f.cityId.errors),c.yb(4),c.dc("ngClass",c.hc(33,M,t.submitted&&t.f.raceId.errors)),c.yb(3),c.dc("ngForOf",t.data.races),c.yb(1),c.dc("ngIf",t.submitted&&t.f.raceId.errors),c.yb(5),c.dc("ngClass",c.hc(35,M,t.submitted&&t.f.genderValue.errors)),c.yb(1),c.dc("ngForOf",t.data.genders),c.yb(1),c.dc("ngIf",t.submitted&&t.f.genderValue.errors),c.yb(4),c.dc("ngClass",c.hc(37,M,t.submitted&&t.f.ageValue.errors)),c.yb(1),c.dc("ngForOf",t.data.ages),c.yb(1),c.dc("ngIf",t.submitted&&t.f.ageValue.errors),c.yb(5),c.dc("ngClass",c.hc(39,M,t.submitted&&t.f.sizeValue.errors)),c.yb(1),c.dc("ngForOf",t.data.sizes),c.yb(1),c.dc("ngIf",t.submitted&&t.f.sizeValue.errors),c.yb(4),c.dc("ngClass",c.hc(41,M,t.submitted&&t.f.fromWhereValue.errors)),c.yb(1),c.dc("ngForOf",t.data.fromWhere),c.yb(1),c.dc("ngIf",t.submitted&&t.f.fromWhereValue.errors),c.yb(5),c.dc("ngClass",c.hc(43,M,t.submitted&&t.f.title.errors)),c.yb(1),c.dc("ngIf",t.submitted&&t.f.title.errors),c.yb(4),c.dc("ngClass",c.hc(45,M,t.submitted&&t.f.description.errors)),c.yb(1),c.dc("ngIf",t.submitted&&t.f.description.errors),c.yb(2),c.dc("disabled",t.loading),c.yb(1),c.dc("ngIf",t.loading))},directives:[n.l,a.m,a.h,a.e,a.b,a.g,a.d,n.j,a.k,a.i,a.n,n.k,s.f],encapsulation:2}),e})();var G=i("XgRA");const Y=function(e){return{active:e}};function Z(e,t){if(1&e){const e=c.Pb();c.Ob(0,"li",8),c.Ob(1,"a",3),c.Vb("click",function(){c.jc(e);const i=t.$implicit;return c.Xb(2).setPage(i)}),c.oc(2),c.Nb(),c.Nb()}if(2&e){const e=t.$implicit,i=c.Xb(2);c.dc("ngClass",c.hc(2,Y,i.pager.currentPage===e)),c.yb(2),c.pc(e)}}const H=function(e){return{disabled:e}};function U(e,t){if(1&e){const e=c.Pb();c.Ob(0,"ul",1),c.Ob(1,"li",2),c.Ob(2,"a",3),c.Vb("click",function(){return c.jc(e),c.Xb().setPage(1)}),c.oc(3,"\u0130lk"),c.Nb(),c.Nb(),c.Ob(4,"li",4),c.Ob(5,"a",3),c.Vb("click",function(){c.jc(e);const t=c.Xb();return t.setPage(t.pager.currentPage-1)}),c.oc(6,"\xd6nceki"),c.Nb(),c.Nb(),c.nc(7,Z,3,4,"li",5),c.Ob(8,"li",6),c.Ob(9,"a",3),c.Vb("click",function(){c.jc(e);const t=c.Xb();return t.setPage(t.pager.currentPage+1)}),c.oc(10,"Sonraki"),c.Nb(),c.Nb(),c.Ob(11,"li",7),c.Ob(12,"a",3),c.Vb("click",function(){c.jc(e);const t=c.Xb();return t.setPage(t.pager.totalPages)}),c.oc(13,"Son"),c.Nb(),c.Nb(),c.Nb()}if(2&e){const e=c.Xb();c.yb(1),c.dc("ngClass",c.hc(5,H,1===e.pager.currentPage)),c.yb(3),c.dc("ngClass",c.hc(7,H,1===e.pager.currentPage)),c.yb(3),c.dc("ngForOf",e.pager.pages),c.yb(1),c.dc("ngClass",c.hc(9,H,e.pager.currentPage===e.pager.totalPages)),c.yb(3),c.dc("ngClass",c.hc(11,H,e.pager.currentPage===e.pager.totalPages))}}let Q=(()=>{class e{constructor(){this.changePage=new c.n(!0),this.initialPage=1,this.pageSize=10,this.maxPages=10,this.pager={}}ngOnInit(){this.itemLength>0&&this.setPage(this.initialPage)}ngOnChanges(e){e.itemLength.currentValue!==e.itemLength.previousValue&&this.setPage(this.initialPage)}setPage(e){this.pager=Object(G.d)(this.itemLength,e,this.pageSize,this.maxPages),this.changePage.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Db({type:e,selectors:[["pagination"]],inputs:{itemLength:"itemLength",initialPage:"initialPage",pageSize:"pageSize",maxPages:"maxPages"},outputs:{changePage:"changePage"},features:[c.wb],decls:1,vars:1,consts:[["class","pagination",4,"ngIf"],[1,"pagination"],[1,"page-item","first-item",3,"ngClass"],[1,"page-link",3,"click"],[1,"page-item","previous-item",3,"ngClass"],["class","page-item number-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item","next-item",3,"ngClass"],[1,"page-item","last-item",3,"ngClass"],[1,"page-item","number-item",3,"ngClass"]],template:function(e,t){1&e&&c.nc(0,U,14,13,"ul",0),2&e&&c.dc("ngIf",t.pager.pages&&t.pager.pages.length)},directives:[n.l,n.j,n.k],styles:[""]}),e})();function _(e,t){if(1&e&&(c.Ob(0,"a",29),c.Yb(1,"lowercase"),c.oc(2),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.Bb("active",e.value.toLowerCase()==i.searchParams.petType),c.fc("routerLink","/pet/list/",c.Zb(1,4,e.value),""),c.yb(2),c.qc("",e.text," \u0130lanlar\u0131")}}function ee(e,t){if(1&e&&(c.Ob(0,"option",30),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.cityId),c.yb(1),c.pc(e.text)}}function te(e,t){if(1&e&&(c.Ob(0,"option",30),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.id)("selected",e.id==i.f.raceId),c.yb(1),c.pc(e.name)}}function ie(e,t){if(1&e&&(c.Ob(0,"option",30),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.genderValue),c.yb(1),c.pc(e.text)}}function ae(e,t){if(1&e&&(c.Ob(0,"option",30),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.ageValue),c.yb(1),c.qc(" ",e.text,"")}}function ne(e,t){if(1&e&&(c.Ob(0,"option",30),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.sizeValue),c.yb(1),c.pc(e.text)}}function se(e,t){if(1&e&&(c.Ob(0,"option",30),c.oc(1),c.Nb()),2&e){const e=t.$implicit,i=c.Xb();c.dc("value",e.value)("selected",e.value==i.f.fromWhereValue),c.yb(1),c.pc(e.text)}}function ce(e,t){1&e&&c.Kb(0,"span",31)}function re(e,t){1&e&&(c.Ob(0,"div",27),c.Kb(1,"span",32),c.Nb())}function oe(e,t){if(1&e&&(c.Ob(0,"div",33),c.Ob(1,"div",34),c.Ob(2,"a",35),c.Kb(3,"img",36),c.Nb(),c.Ob(4,"div",37),c.Ob(5,"h4",38),c.Ob(6,"a",35),c.oc(7),c.Nb(),c.Nb(),c.Ob(8,"p",39),c.oc(9),c.Yb(10,"slice"),c.Nb(),c.Nb(),c.Ob(11,"div",40),c.oc(12),c.Yb(13,"date"),c.Nb(),c.Nb(),c.Nb()),2&e){const e=t.$implicit;c.yb(2),c.fc("routerLink","/pet/",e.id,""),c.yb(1),c.ec("alt",e.title),c.yb(3),c.fc("routerLink","/pet/",e.id,""),c.yb(1),c.pc(e.title),c.yb(2),c.qc("",c.ac(10,7,e.description,0,100),"..."),c.yb(3),c.rc(" \ud83d\udcc5 ",c.Zb(13,11,e.published)," \ud83d\udccd ",e.cityText," ")}}const be=function(e){return{"is-invalid":e}},le=[{path:"",component:r,children:[{path:"list/:type",component:(()=>{class e{constructor(e,t,i,a){this.formBuilder=e,this.client=t,this.route=i,this.router=a,this.loading=!1,this.submitted=!1,this.totalCount=0,this.data=[],this.searchParams=[]}fillInTheBlanks(){var e,t,i,a,n,s;this.form=this.formBuilder.group({term:[this.searchParams.term],cityId:[null!==(e=this.searchParams.cityId)&&void 0!==e?e:0],raceId:[null!==(t=this.searchParams.raceId)&&void 0!==t?t:0],ageValue:[null!==(i=this.searchParams.ageValue)&&void 0!==i?i:"None"],genderValue:[null!==(a=this.searchParams.genderValue)&&void 0!==a?a:"None"],sizeValue:[null!==(n=this.searchParams.sizeValue)&&void 0!==n?n:"None"],fromWhereValue:[null!==(s=this.searchParams.fromWhereValue)&&void 0!==s?s:"None"]}),this.client.getPets(this.searchParams.term,0,0,0,null,null,this.searchParams.petType,this.searchParams.cityId,this.searchParams.raceId,this.searchParams.ageValue,this.searchParams.genderValue,this.searchParams.sizeValue,this.searchParams.fromWhereValue).subscribe(e=>{this.totalCount=e.pagination.totalCount},e=>console.error(e)),this.client.getPetTypes().subscribe(e=>{this.pageTitle=e.find(e=>e.value.toLowerCase()==this.searchParams.petType).text,this.data.petTypes=e}),this.client.getRacesForPetType(this.searchParams.petType).subscribe(e=>{this.data.races=e}),this.client.getCities().subscribe(e=>{this.data.cities=e}),this.client.getAges().subscribe(e=>{this.data.ages=e}),this.client.getGenders().subscribe(e=>{this.data.genders=e}),this.client.getSizes().subscribe(e=>{this.data.sizes=e}),this.client.getFromWhere().subscribe(e=>{this.data.fromWhere=e})}ngOnInit(){this.route.params.subscribe(e=>{this.searchParams=[],this.searchParams.petType=e.type,this.fillInTheBlanks()}),this.route.queryParams.subscribe(e=>{this.searchParams.sizeValue=e.sizeValue,this.fillInTheBlanks()})}get f(){return this.form.controls}onChangePage(e){this.searchParams.pageNumber=e,this.onSearch()}onSearch(){this.loading=!0,this.client.getPets(this.searchParams.term,0,this.searchParams.pageNumber,10,null,"id,title,description,published,cityText",this.searchParams.petType,this.searchParams.cityId,this.searchParams.raceId,this.searchParams.ageValue,this.searchParams.genderValue,this.searchParams.sizeValue,this.searchParams.fromWhereValue).subscribe(e=>{this.pageOfItems=e.value,this.loading=!1},e=>console.error(e))}onSubmit(){this.submitted=!0,this.form.invalid||(this.searchParams.raceId=this.form.value.raceId,this.searchParams.cityId=this.form.value.cityId,this.searchParams.ageValue=this.form.value.ageValue,this.searchParams.genderValue=this.form.value.genderValue,this.searchParams.sizeValue=this.form.value.sizeValue,this.searchParams.fromWhereValue=this.form.value.fromWhereValue,this.searchParams.term=this.form.value.term,this.router.navigate([],{relativeTo:this.route,queryParams:this.searchParams,queryParamsHandling:"merge"}),this.onSearch())}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(a.c),c.Jb(l.f),c.Jb(s.a),c.Jb(s.c))},e.\u0275cmp=c.Db({type:e,selectors:[["ng-component"]],decls:68,vars:37,consts:[[1,"row"],[1,"col-lg-3"],[1,"list-group"],["class","list-group-item",3,"active","routerLink",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"form-row","mt-3"],[1,"form-group","col"],["formControlName","cityId",1,"form-control",3,"ngClass"],["value","0"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"form-row"],["formControlName","raceId",1,"form-control",3,"ngClass"],["formControlName","genderValue",1,"form-control",3,"ngClass"],["formControlName","ageValue",1,"form-control",3,"ngClass"],["formControlName","sizeValue",1,"form-control",3,"ngClass"],["formControlName","fromWhereValue",1,"form-control",3,"ngClass"],["type","text","formControlName","term",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"btn","btn-primary","btn-block",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"col-lg-9"],[1,"col-9"],[1,"my-4"],[1,"col-3","my-auto","text-right"],[1,"btn","btn-secondary",3,"routerLink"],["class","col-12",4,"ngIf"],["class","col-lg-4 col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"col-12"],[3,"itemLength","changePage"],[1,"list-group-item",3,"routerLink"],[3,"value","selected"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"spinner-border","text-primary"],[1,"col-lg-4","col-md-6","mb-4"],[1,"card","h-100"],[3,"routerLink"],["src","http://placekitten.com/300/200",1,"card-img-top",3,"alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"]],template:function(e,t){1&e&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"div",2),c.nc(3,_,3,6,"a",3),c.Nb(),c.Ob(4,"form",4),c.Vb("ngSubmit",function(){return t.onSubmit()}),c.Ob(5,"div",5),c.Ob(6,"div",6),c.Ob(7,"label"),c.oc(8,"\u015eehri"),c.Nb(),c.Ob(9,"select",7),c.Ob(10,"option",8),c.oc(11,"-"),c.Nb(),c.nc(12,ee,2,3,"option",9),c.Nb(),c.Nb(),c.Nb(),c.Ob(13,"div",10),c.Ob(14,"div",6),c.Ob(15,"label"),c.oc(16,"Irk\u0131"),c.Nb(),c.Ob(17,"select",11),c.Ob(18,"option",8),c.oc(19,"-"),c.Nb(),c.nc(20,te,2,3,"option",9),c.Nb(),c.Nb(),c.Nb(),c.Ob(21,"div",10),c.Ob(22,"div",6),c.Ob(23,"label"),c.oc(24,"Cinsiyeti"),c.Nb(),c.Ob(25,"select",12),c.nc(26,ie,2,3,"option",9),c.Nb(),c.Nb(),c.Nb(),c.Ob(27,"div",10),c.Ob(28,"div",6),c.Ob(29,"label"),c.oc(30,"Ya\u015f\u0131"),c.Nb(),c.Ob(31,"select",13),c.nc(32,ae,2,3,"option",9),c.Nb(),c.Nb(),c.Nb(),c.Ob(33,"div",10),c.Ob(34,"div",6),c.Ob(35,"label"),c.oc(36,"Boyutu"),c.Nb(),c.Ob(37,"select",14),c.nc(38,ne,2,3,"option",9),c.Nb(),c.Nb(),c.Nb(),c.Ob(39,"div",10),c.Ob(40,"div",6),c.Ob(41,"label"),c.oc(42,"Kimden"),c.Nb(),c.Ob(43,"select",15),c.nc(44,se,2,3,"option",9),c.Nb(),c.Nb(),c.Nb(),c.Ob(45,"div",10),c.Ob(46,"div",6),c.Ob(47,"label"),c.oc(48,"Anahtar Kelime"),c.Nb(),c.Kb(49,"input",16),c.Nb(),c.Nb(),c.Ob(50,"div",17),c.Ob(51,"button",18),c.nc(52,ce,1,0,"span",19),c.oc(53," Ara "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(54,"div",20),c.Ob(55,"div",0),c.Ob(56,"div",21),c.Ob(57,"h1",22),c.oc(58),c.Nb(),c.Nb(),c.Ob(59,"div",23),c.Ob(60,"a",24),c.oc(61),c.Nb(),c.Nb(),c.Nb(),c.Ob(62,"div",0),c.nc(63,re,2,0,"div",25),c.nc(64,oe,14,13,"div",26),c.Nb(),c.Ob(65,"div",0),c.Ob(66,"div",27),c.Ob(67,"pagination",28),c.Vb("changePage",function(e){return t.onChangePage(e)}),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.yb(3),c.dc("ngForOf",t.data.petTypes),c.yb(1),c.dc("formGroup",t.form),c.yb(5),c.dc("ngClass",c.hc(23,be,t.submitted&&t.f.cityId.errors)),c.yb(3),c.dc("ngForOf",t.data.cities),c.yb(5),c.dc("ngClass",c.hc(25,be,t.submitted&&t.f.raceId.errors)),c.yb(3),c.dc("ngForOf",t.data.races),c.yb(5),c.dc("ngClass",c.hc(27,be,t.submitted&&t.f.genderValue.errors)),c.yb(1),c.dc("ngForOf",t.data.genders),c.yb(5),c.dc("ngClass",c.hc(29,be,t.submitted&&t.f.ageValue.errors)),c.yb(1),c.dc("ngForOf",t.data.ages),c.yb(5),c.dc("ngClass",c.hc(31,be,t.submitted&&t.f.sizeValue.errors)),c.yb(1),c.dc("ngForOf",t.data.sizes),c.yb(5),c.dc("ngClass",c.hc(33,be,t.submitted&&t.f.fromWhereValue.errors)),c.yb(1),c.dc("ngForOf",t.data.fromWhere),c.yb(5),c.dc("ngClass",c.hc(35,be,t.submitted&&t.f.term.errors)),c.yb(2),c.dc("disabled",t.loading),c.yb(1),c.dc("ngIf",t.loading),c.yb(6),c.qc("",t.pageTitle," Sahiplenme \u0130lanlar\u0131"),c.yb(2),c.fc("routerLink","/pet/add/",t.searchParams.petType,""),c.yb(1),c.qc(" ",t.pageTitle," \u0130lan\u0131 Ver "),c.yb(2),c.dc("ngIf",t.loading),c.yb(1),c.dc("ngForOf",t.pageOfItems),c.yb(3),c.dc("itemLength",t.totalCount))},directives:[n.k,a.m,a.h,a.e,a.k,a.g,a.d,n.j,a.i,a.n,a.b,n.l,s.f,Q],pipes:[n.i,n.o,n.d],encapsulation:2}),e})()},{path:":id",component:I},{path:"add/:type",component:R,canActivate:[G.a]},{path:"edit/:id",component:R,canActivate:[G.a]}]}];let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({imports:[[s.g.forChild(le)],s.g]}),e})();var ue=i("PCNd");let me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({imports:[[n.b,a.j,de,d.a,ue.a]]}),e})()}}]);