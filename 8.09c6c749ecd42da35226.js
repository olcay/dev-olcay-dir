(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Z09g:function(e,t,i){"use strict";i.r(t),i.d(t,"PetModule",(function(){return P}));var r=i("3Pt+"),n=i("ofXK"),s=i("tyNb"),b=i("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Cb({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,t){1&e&&(b.Lb(0,"div",0),b.Lb(1,"div",1),b.Jb(2,"router-outlet"),b.Kb(),b.Kb())},directives:[s.g],encapsulation:2}),e})();var o=i("J9tS"),a=i("CEyA");function l(e,t){1&e&&(b.Lb(0,"span"),b.jc(1,"..."),b.Kb())}let d=(()=>{class e{constructor(e,t,i,r,n){this.accountService=e,this.client=t,this.activatedRoute=i,this.alertService=r,this.router=n,this.account=this.accountService.accountValue,this.petId=this.activatedRoute.snapshot.params.id,this.deleting=!1,this.data=[],this.tags=[]}getData(){this.client.getPet(this.petId).subscribe(e=>{this.data=e},e=>console.error(e))}onDelete(){confirm("Ar\u015five kald\u0131rmak istedi\u011finize emin misiniz?")&&(this.deleting=!0,this.client.deletePet(this.petId).subscribe(()=>{this.alertService.success("Pet ar\u015fivlendi.",{keepAfterRouteChange:!0}),this.router.navigate(["/"])}))}ngOnInit(){this.getData()}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(o.a),b.Ib(a.f),b.Ib(s.a),b.Ib(o.b),b.Ib(s.c))},e.\u0275cmp=b.Cb({type:e,selectors:[["ng-component"]],decls:14,vars:8,consts:[["type","button",3,"disabled","click"],[4,"ngIf"]],template:function(e,t){1&e&&(b.Lb(0,"section"),b.Lb(1,"header"),b.Lb(2,"h2"),b.jc(3),b.Kb(),b.Lb(4,"p"),b.jc(5),b.Kb(),b.Lb(6,"p"),b.jc(7),b.Vb(8,"date"),b.Kb(),b.Lb(9,"p"),b.jc(10),b.Kb(),b.Kb(),b.Lb(11,"button",0),b.Sb("click",(function(){return t.onDelete()})),b.jc(12," Delete"),b.ic(13,l,2,0,"span",1),b.Kb(),b.Kb()),2&e&&(b.xb(3),b.kc(t.data.title),b.xb(2),b.kc(t.data.petType),b.xb(2),b.kc(b.Wb(8,6,t.data.created)),b.xb(3),b.kc(t.data.description),b.xb(1),b.Zb("disabled",t.deleting),b.xb(2),b.Zb("ngIf",t.deleting))},directives:[n.k],pipes:[n.d],encapsulation:2}),e})();var u=i("SxV6");function f(e,t){if(1&e&&(b.Lb(0,"h1"),b.jc(1),b.Kb()),2&e){const e=b.Ub();b.xb(1),b.lc("",e.pageTitle," Ekle")}}function p(e,t){if(1&e&&(b.Lb(0,"h1"),b.jc(1),b.Kb()),2&e){const e=b.Ub();b.xb(1),b.lc("",e.pageTitle," G\xfcncelle")}}function m(e,t){1&e&&(b.Lb(0,"div"),b.jc(1,"\u0130sim zorunlu"),b.Kb())}function h(e,t){if(1&e&&(b.Lb(0,"div",21),b.ic(1,m,2,0,"div",0),b.Kb()),2&e){const e=b.Ub();b.xb(1),b.Zb("ngIf",e.f.name.errors.required)}}function g(e,t){if(1&e&&(b.Lb(0,"option",22),b.jc(1),b.Kb()),2&e){const e=t.$implicit,i=b.Ub();b.Zb("value",e.value)("selected",e.value==i.f.cityId),b.xb(1),b.kc(e.text)}}function v(e,t){1&e&&(b.Lb(0,"div"),b.jc(1,"\u015eehir zorunlu"),b.Kb())}function L(e,t){if(1&e&&(b.Lb(0,"div",21),b.ic(1,v,2,0,"div",0),b.Kb()),2&e){const e=b.Ub();b.xb(1),b.Zb("ngIf",e.f.name.errors.required)}}function K(e,t){if(1&e&&(b.Lb(0,"option",22),b.jc(1),b.Kb()),2&e){const e=t.$implicit,i=b.Ub();b.Zb("value",e.id)("selected",e.id==i.f.raceId),b.xb(1),b.kc(e.name)}}function x(e,t){1&e&&b.Jb(0,"div",21)}function I(e,t){if(1&e&&(b.Lb(0,"option",22),b.jc(1),b.Kb()),2&e){const e=t.$implicit,i=b.Ub();b.Zb("value",e.value)("selected",e.value==i.f.genderValue),b.xb(1),b.kc(e.text)}}function Z(e,t){1&e&&b.Jb(0,"div",21)}function y(e,t){if(1&e&&(b.Lb(0,"option",22),b.jc(1),b.Kb()),2&e){const e=t.$implicit,i=b.Ub();b.Zb("value",e.value)("selected",e.value==i.f.ageValue),b.xb(1),b.kc(e.text)}}function C(e,t){1&e&&b.Jb(0,"div",21)}function j(e,t){if(1&e&&(b.Lb(0,"option",22),b.jc(1),b.Kb()),2&e){const e=t.$implicit,i=b.Ub();b.Zb("value",e.value)("selected",e.value==i.f.sizeValue),b.xb(1),b.kc(e.text)}}function k(e,t){1&e&&b.Jb(0,"div",21)}function V(e,t){if(1&e&&(b.Lb(0,"option",22),b.jc(1),b.Kb()),2&e){const e=t.$implicit,i=b.Ub();b.Zb("value",e.value)("selected",e.value==i.f.fromWhereValue),b.xb(1),b.kc(e.text)}}function S(e,t){1&e&&b.Jb(0,"div",21)}function T(e,t){1&e&&(b.Lb(0,"div"),b.jc(1,"Ba\u015fl\u0131k zorunlu"),b.Kb())}function A(e,t){if(1&e&&(b.Lb(0,"div",21),b.ic(1,T,2,0,"div",0),b.Kb()),2&e){const e=b.Ub();b.xb(1),b.Zb("ngIf",e.f.title.errors.required)}}function z(e,t){1&e&&b.Jb(0,"div",21)}function N(e,t){1&e&&b.Jb(0,"span",23)}const J=function(e){return{"is-invalid":e}};let w=(()=>{class e{constructor(e,t,i,r,n){this.formBuilder=e,this.route=t,this.router=i,this.alertService=r,this.client=n,this.loading=!1,this.submitted=!1,this.data=[]}ngOnInit(){this.petId=this.route.snapshot.params.id,this.petType=this.route.snapshot.params.type,this.isAddMode=!this.petId,this.form=this.formBuilder.group({name:["",r.m.required],title:["",r.m.required],description:[""],cityId:["",r.m.required],raceId:[""],ageValue:["None"],genderValue:["None"],sizeValue:["None"],fromWhereValue:["None"],petTypeValue:[this.petType]}),this.client.getCities().subscribe(e=>{this.data.cities=e}),this.client.getAges().subscribe(e=>{this.data.ages=e}),this.client.getGenders().subscribe(e=>{this.data.genders=e}),this.client.getSizes().subscribe(e=>{this.data.sizes=e}),this.client.getFromWhere().subscribe(e=>{this.data.fromWhere=e}),this.isAddMode?(this.client.getPetTypes().subscribe(e=>{this.pageTitle=e.find(e=>e.value.toLowerCase()==this.petType).text}),this.client.getRacesForPetType(this.petType).subscribe(e=>{this.data.races=e})):this.client.getPet(this.petId).pipe(Object(u.a)()).subscribe(e=>{this.form.patchValue(e),this.form.patchValue({cityId:e.city.value,raceId:e.race.id,genderValue:e.gender.value,ageValue:e.age.value,sizeValue:e.size.value,fromWhereValue:e.fromWhere.value}),this.pageTitle=e.petType.text,this.client.getRacesForPetType(e.petType.value).subscribe(e=>{this.data.races=e})})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?this.createAccount():this.updateAccount())}createAccount(){this.client.createPet(this.form.value).pipe(Object(u.a)()).subscribe({next:()=>{this.alertService.success("Pet ba\u015far\u0131yla eklendi.",{keepAfterRouteChange:!0}),this.router.navigate(["../../"],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}})}updateAccount(){this.client.updatePet(this.petId,this.form.value).pipe(Object(u.a)()).subscribe({next:()=>{this.alertService.success("G\xfcncelleme ba\u015far\u0131l\u0131.",{keepAfterRouteChange:!0}),this.router.navigate(["../../"],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}})}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(r.c),b.Ib(s.a),b.Ib(s.c),b.Ib(o.b),b.Ib(a.f))},e.\u0275cmp=b.Cb({type:e,selectors:[["ng-component"]],decls:69,vars:47,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","cityId",1,"form-control",3,"ngClass"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","raceId",1,"form-control",3,"ngClass"],["formControlName","genderValue",1,"form-control",3,"ngClass"],["formControlName","ageValue",1,"form-control",3,"ngClass"],["formControlName","sizeValue",1,"form-control",3,"ngClass"],["formControlName","fromWhereValue",1,"form-control",3,"ngClass"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],[1,"form-group","col-7"],["type","text","formControlName","description",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/",1,"btn","btn-link"],[1,"invalid-feedback"],[3,"value","selected"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(b.ic(0,f,2,1,"h1",0),b.ic(1,p,2,1,"h1",0),b.Lb(2,"form",1),b.Sb("ngSubmit",(function(){return t.onSubmit()})),b.Lb(3,"div",2),b.Lb(4,"div",3),b.Lb(5,"label"),b.jc(6,"\u0130smi *"),b.Kb(),b.Jb(7,"input",4),b.ic(8,h,2,1,"div",5),b.Kb(),b.Kb(),b.Lb(9,"div",2),b.Lb(10,"div",3),b.Lb(11,"label"),b.jc(12,"\u015eehir *"),b.Kb(),b.Lb(13,"select",6),b.Lb(14,"option",7),b.jc(15,"-"),b.Kb(),b.ic(16,g,2,3,"option",8),b.Kb(),b.ic(17,L,2,1,"div",5),b.Kb(),b.Lb(18,"div",3),b.Lb(19,"label"),b.jc(20,"Irk\u0131"),b.Kb(),b.Lb(21,"select",9),b.Lb(22,"option",7),b.jc(23,"-"),b.Kb(),b.ic(24,K,2,3,"option",8),b.Kb(),b.ic(25,x,1,0,"div",5),b.Kb(),b.Kb(),b.Lb(26,"div",2),b.Lb(27,"div",3),b.Lb(28,"label"),b.jc(29,"Cinsiyeti"),b.Kb(),b.Lb(30,"select",10),b.ic(31,I,2,3,"option",8),b.Kb(),b.ic(32,Z,1,0,"div",5),b.Kb(),b.Lb(33,"div",3),b.Lb(34,"label"),b.jc(35,"Ya\u015f\u0131"),b.Kb(),b.Lb(36,"select",11),b.ic(37,y,2,3,"option",8),b.Kb(),b.ic(38,C,1,0,"div",5),b.Kb(),b.Kb(),b.Lb(39,"div",2),b.Lb(40,"div",3),b.Lb(41,"label"),b.jc(42,"Boyutu"),b.Kb(),b.Lb(43,"select",12),b.ic(44,j,2,3,"option",8),b.Kb(),b.ic(45,k,1,0,"div",5),b.Kb(),b.Lb(46,"div",3),b.Lb(47,"label"),b.jc(48,"Nereden"),b.Kb(),b.Lb(49,"select",13),b.ic(50,V,2,3,"option",8),b.Kb(),b.ic(51,S,1,0,"div",5),b.Kb(),b.Kb(),b.Lb(52,"div",2),b.Lb(53,"div",3),b.Lb(54,"label"),b.jc(55,"Ba\u015fl\u0131k *"),b.Kb(),b.Jb(56,"input",14),b.ic(57,A,2,1,"div",5),b.Kb(),b.Lb(58,"div",15),b.Lb(59,"label"),b.jc(60,"A\xe7\u0131klama"),b.Kb(),b.Jb(61,"input",16),b.ic(62,z,1,0,"div",5),b.Kb(),b.Kb(),b.Lb(63,"div",17),b.Lb(64,"button",18),b.ic(65,N,1,0,"span",19),b.jc(66," Kaydet "),b.Kb(),b.Lb(67,"a",20),b.jc(68,"\u0130ptal"),b.Kb(),b.Kb(),b.Kb()),2&e&&(b.Zb("ngIf",t.isAddMode),b.xb(1),b.Zb("ngIf",!t.isAddMode),b.xb(1),b.Zb("formGroup",t.form),b.xb(5),b.Zb("ngClass",b.cc(29,J,t.submitted&&t.f.name.errors)),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.name.errors),b.xb(5),b.Zb("ngClass",b.cc(31,J,t.submitted&&t.f.cityId.errors)),b.xb(3),b.Zb("ngForOf",t.data.cities),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.cityId.errors),b.xb(4),b.Zb("ngClass",b.cc(33,J,t.submitted&&t.f.raceId.errors)),b.xb(3),b.Zb("ngForOf",t.data.races),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.raceId.errors),b.xb(5),b.Zb("ngClass",b.cc(35,J,t.submitted&&t.f.genderValue.errors)),b.xb(1),b.Zb("ngForOf",t.data.genders),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.genderValue.errors),b.xb(4),b.Zb("ngClass",b.cc(37,J,t.submitted&&t.f.ageValue.errors)),b.xb(1),b.Zb("ngForOf",t.data.ages),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.ageValue.errors),b.xb(5),b.Zb("ngClass",b.cc(39,J,t.submitted&&t.f.sizeValue.errors)),b.xb(1),b.Zb("ngForOf",t.data.sizes),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.sizeValue.errors),b.xb(4),b.Zb("ngClass",b.cc(41,J,t.submitted&&t.f.fromWhereValue.errors)),b.xb(1),b.Zb("ngForOf",t.data.fromWhere),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.fromWhereValue.errors),b.xb(5),b.Zb("ngClass",b.cc(43,J,t.submitted&&t.f.title.errors)),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.title.errors),b.xb(4),b.Zb("ngClass",b.cc(45,J,t.submitted&&t.f.description.errors)),b.xb(1),b.Zb("ngIf",t.submitted&&t.f.description.errors),b.xb(2),b.Zb("disabled",t.loading),b.xb(1),b.Zb("ngIf",t.loading))},directives:[n.k,r.o,r.h,r.e,r.b,r.g,r.d,n.i,r.l,r.j,r.n,n.j,s.e],encapsulation:2}),e})();const F=[{path:"",component:c,children:[{path:":id",component:d},{path:"add/:type",component:w},{path:"edit/:id",component:w}]}];let O=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[s.f.forChild(F)],s.f]}),e})(),P=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[n.b,r.k,O]]}),e})()}}]);