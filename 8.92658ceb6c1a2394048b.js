(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Z09g:function(e,t,i){"use strict";i.r(t),i.d(t,"PetModule",(function(){return K}));var n=i("3Pt+"),c=i("ofXK"),a=i("tyNb"),o=i("fXoL");let r=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,t){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Jb(2,"router-outlet"),o.Mb(),o.Mb())},directives:[a.h],encapsulation:2}),e})();var s=i("nPby"),b=i("J9tS"),l=i("CEyA"),d=i("dPr5"),u=i("vYor");const m=[[["","body",""]],[["","submit",""]]],f=["[body]","[submit]"];let p=(()=>{class e{constructor(e,t){this.modalService=e,this.el=t,this.element=t.nativeElement}ngOnInit(){this.id?(document.body.appendChild(this.element),this.element.addEventListener("click",e=>{"modal jw-modal"===e.target.className&&this.close()}),this.modalService.add(this)):console.error("modal must have an id")}ngOnDestroy(){this.modalService.remove(this.id),this.element.remove()}open(){this.element.style.display="block",document.body.classList.add("jw-modal-open")}close(){this.element.style.display="none",document.body.classList.remove("jw-modal-open")}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(u.a),o.Ib(o.l))},e.\u0275cmp=o.Cb({type:e,selectors:[["jw-modal"]],inputs:{id:"id"},ngContentSelectors:f,decls:17,vars:0,consts:[["tabindex","-1",1,"modal","jw-modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","jw-modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"jw-modal-background"]],template:function(e,t){1&e&&(o.bc(m),o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"div",2),o.Nb(3,"div",3),o.Nb(4,"h5",4),o.nc(5,"Emin misiniz?"),o.Mb(),o.Nb(6,"button",5),o.Ub("click",(function(){return t.close()})),o.Nb(7,"span",6),o.nc(8,"\xd7"),o.Mb(),o.Mb(),o.Mb(),o.Nb(9,"div",7),o.Nb(10,"p"),o.ac(11),o.Mb(),o.Mb(),o.Nb(12,"div",8),o.Nb(13,"button",9),o.Ub("click",(function(){return t.close()})),o.nc(14,"\u0130ptal"),o.Mb(),o.ac(15,1),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Jb(16,"div",10))},styles:["jw-modal{display:none}jw-modal .jw-modal{position:fixed;top:0;right:0;bottom:0;left:0;display:block;z-index:1000;overflow:auto}jw-modal .jw-modal .jw-modal-body{padding:20px;background:#fff;margin:40px}jw-modal .jw-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.75;z-index:900}body.jw-modal-open{overflow:hidden}"],encapsulation:2}),e})();function h(e,t){if(1&e){const e=o.Ob();o.Nb(0,"div",18),o.Nb(1,"h5",8),o.nc(2,"\u0130lan"),o.Mb(),o.Nb(3,"div",9),o.Nb(4,"div",19),o.Nb(5,"input",20),o.Ub("change",(function(){return o.ic(e),o.Wb().onChangeStatus()})),o.Mb(),o.Nb(6,"label",21),o.nc(7),o.Mb(),o.Mb(),o.Jb(8,"br"),o.Nb(9,"button",22),o.nc(10,"D\xfczenle"),o.Mb(),o.Nb(11,"button",23),o.Ub("click",(function(){return o.ic(e),o.Wb().openModal("delete-modal")})),o.nc(12,"Sil"),o.Mb(),o.Mb(),o.Mb()}if(2&e){const e=o.Wb();o.xb(5),o.cc("checked","Published"==e.data.petStatus.value),o.xb(2),o.oc(e.data.petStatus.text),o.xb(2),o.ec("routerLink","/pet/edit/",e.data.id,"")}}function g(e,t){1&e&&(o.Nb(0,"span"),o.nc(1,"..."),o.Mb())}let v=(()=>{class e{constructor(e,t,i,n,c,a){this.accountService=e,this.client=t,this.activatedRoute=i,this.alertService=n,this.router=c,this.modalService=a,this.account=this.accountService.accountValue,this.petId=this.activatedRoute.snapshot.params.id,this.deleting=!1,this.data=[],this.tags=[]}getData(){this.client.getPet(this.petId).subscribe(e=>{this.data=e,this.data.isEditable=e.createdBy.id.toString()===this.account.id||this.account.role===s.c.Admin},e=>console.error(e))}onDelete(){this.deleting=!0,this.client.deletePet(this.petId).subscribe(()=>{this.alertService.success("Pet silindi.",{keepAfterRouteChange:!0}),this.router.navigate(["/profile"])})}ngOnInit(){this.getData()}onChangeStatus(){"Published"==this.data.petStatus.value?this.client.unpublishPet(this.petId).subscribe(()=>{this.getData()}):this.client.publishPet(this.petId).subscribe(()=>{this.getData()})}openModal(e){this.modalService.open(e)}closeModal(e){this.modalService.close(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(b.a),o.Ib(l.f),o.Ib(a.a),o.Ib(b.b),o.Ib(a.c),o.Ib(d.b))},e.\u0275cmp=o.Cb({type:e,selectors:[["ng-component"]],decls:41,vars:17,consts:[[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"mt-4"],["src","http://placekitten.com/900/400",1,"img-fluid","rounded",3,"alt"],[1,"lead"],[1,"col-md-4"],[1,"card","border-primary","my-4"],[1,"card-header"],[1,"card-body"],["class","card my-4",4,"ngIf"],[1,"card","border-danger","my-4"],[1,"card-title"],["id","delete-modal"],["body",""],["submit",""],["type","button",1,"btn","btn-danger",3,"disabled","click"],[4,"ngIf"],[1,"card","my-4"],[1,"custom-control","custom-switch"],["type","checkbox","id","customSwitch1",1,"custom-control-input",3,"checked","change"],["for","customSwitch1",1,"custom-control-label"],[1,"btn","btn-primary","mr-2",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(o.Nb(0,"section"),o.Nb(1,"div",0),o.Nb(2,"div",1),o.Nb(3,"div",2),o.Nb(4,"h1",3),o.nc(5),o.Mb(),o.Nb(6,"p"),o.nc(7),o.Xb(8,"date"),o.Mb(),o.Jb(9,"br"),o.Jb(10,"img",4),o.Jb(11,"br"),o.Jb(12,"br"),o.Nb(13,"p",5),o.nc(14),o.Mb(),o.Mb(),o.Nb(15,"div",6),o.Nb(16,"div",7),o.Nb(17,"h5",8),o.nc(18),o.Mb(),o.Nb(19,"div",9),o.Nb(20,"p"),o.nc(21),o.Mb(),o.Nb(22,"p"),o.nc(23),o.Mb(),o.Nb(24,"p"),o.nc(25),o.Mb(),o.Mb(),o.Mb(),o.mc(26,h,13,3,"div",10),o.Nb(27,"div",11),o.Nb(28,"h5",8),o.nc(29,"Uyar\u0131"),o.Mb(),o.Nb(30,"div",9),o.Nb(31,"h4",12),o.nc(32,"\xdcCRET \u0130STEN\u0130RSE G\xdcVENMEY\u0130N!"),o.Mb(),o.nc(33," Kargo/ta\u015f\u0131ma \xfccreti dahil herhangi bir sebeple \xfccret isteyen ki\u015filere g\xfcvenmeyin. "),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(34,"jw-modal",13),o.Lb(35,14),o.nc(36,"Pet kayd\u0131 silinecek. Devam etmek istedi\u011finize emin misiniz?"),o.Kb(),o.Lb(37,15),o.Nb(38,"button",16),o.Ub("click",(function(){return t.onDelete()})),o.nc(39," Sil"),o.mc(40,g,2,0,"span",17),o.Mb(),o.Kb(),o.Mb()),2&e&&(o.xb(5),o.oc(t.data.title),o.xb(2),o.qc("",o.Yb(8,15,t.data.created)," tarihinde ",null==t.data.createdBy?null:t.data.createdBy.displayName," taraf\u0131ndan eklendi"),o.xb(3),o.dc("alt",t.data.name),o.xb(4),o.oc(t.data.description),o.xb(4),o.oc(t.data.name),o.xb(3),o.qc("",null==t.data.fromWhere?null:t.data.fromWhere.text,", ",null==t.data.city?null:t.data.city.text,""),o.xb(2),o.qc("",null==t.data.gender?null:t.data.gender.text," ",null==t.data.race?null:t.data.race.name,""),o.xb(2),o.qc("",null==t.data.age?null:t.data.age.text," ve ",null==t.data.size?null:t.data.size.text,""),o.xb(1),o.cc("ngIf",t.data.isEditable),o.xb(12),o.cc("disabled",t.deleting),o.xb(2),o.cc("ngIf",t.deleting))},directives:[c.k,p,a.d],pipes:[c.d],encapsulation:2}),e})();var N=i("SxV6");function M(e,t){if(1&e&&(o.Nb(0,"h1"),o.nc(1),o.Mb()),2&e){const e=o.Wb();o.xb(1),o.pc("",e.pageTitle," Ekle")}}function x(e,t){if(1&e&&(o.Nb(0,"h1"),o.nc(1),o.Mb()),2&e){const e=o.Wb();o.xb(1),o.pc("",e.pageTitle," G\xfcncelle")}}function y(e,t){1&e&&(o.Nb(0,"div"),o.nc(1,"\u0130sim zorunlu"),o.Mb())}function I(e,t){if(1&e&&(o.Nb(0,"div",21),o.mc(1,y,2,0,"div",0),o.Mb()),2&e){const e=o.Wb();o.xb(1),o.cc("ngIf",e.f.name.errors.required)}}function k(e,t){if(1&e&&(o.Nb(0,"option",22),o.nc(1),o.Mb()),2&e){const e=t.$implicit,i=o.Wb();o.cc("value",e.value)("selected",e.value==i.f.cityId),o.xb(1),o.oc(e.text)}}function C(e,t){1&e&&(o.Nb(0,"div"),o.nc(1,"\u015eehir zorunlu"),o.Mb())}function w(e,t){if(1&e&&(o.Nb(0,"div",21),o.mc(1,C,2,0,"div",0),o.Mb()),2&e){const e=o.Wb();o.xb(1),o.cc("ngIf",e.f.name.errors.required)}}function S(e,t){if(1&e&&(o.Nb(0,"option",22),o.nc(1),o.Mb()),2&e){const e=t.$implicit,i=o.Wb();o.cc("value",e.id)("selected",e.id==i.f.raceId),o.xb(1),o.oc(e.name)}}function V(e,t){1&e&&o.Jb(0,"div",21)}function W(e,t){if(1&e&&(o.Nb(0,"option",22),o.nc(1),o.Mb()),2&e){const e=t.$implicit,i=o.Wb();o.cc("value",e.value)("selected",e.value==i.f.genderValue),o.xb(1),o.oc(e.text)}}function j(e,t){1&e&&o.Jb(0,"div",21)}function z(e,t){if(1&e&&(o.Nb(0,"option",22),o.nc(1),o.Mb()),2&e){const e=t.$implicit,i=o.Wb();o.cc("value",e.value)("selected",e.value==i.f.ageValue),o.xb(1),o.oc(e.text)}}function J(e,t){1&e&&o.Jb(0,"div",21)}function T(e,t){if(1&e&&(o.Nb(0,"option",22),o.nc(1),o.Mb()),2&e){const e=t.$implicit,i=o.Wb();o.cc("value",e.value)("selected",e.value==i.f.sizeValue),o.xb(1),o.oc(e.text)}}function A(e,t){1&e&&o.Jb(0,"div",21)}function P(e,t){if(1&e&&(o.Nb(0,"option",22),o.nc(1),o.Mb()),2&e){const e=t.$implicit,i=o.Wb();o.cc("value",e.value)("selected",e.value==i.f.fromWhereValue),o.xb(1),o.oc(e.text)}}function O(e,t){1&e&&o.Jb(0,"div",21)}function F(e,t){1&e&&(o.Nb(0,"div"),o.nc(1,"Ba\u015fl\u0131k zorunlu"),o.Mb())}function E(e,t){if(1&e&&(o.Nb(0,"div",21),o.mc(1,F,2,0,"div",0),o.Mb()),2&e){const e=o.Wb();o.xb(1),o.cc("ngIf",e.f.title.errors.required)}}function q(e,t){1&e&&o.Jb(0,"div",21)}function B(e,t){1&e&&o.Jb(0,"span",23)}const L=function(e){return{"is-invalid":e}};let R=(()=>{class e{constructor(e,t,i,n,c){this.formBuilder=e,this.route=t,this.router=i,this.alertService=n,this.client=c,this.loading=!1,this.submitted=!1,this.data=[]}ngOnInit(){this.route.params.subscribe(e=>{this.petId=e.id,this.petType=e.type,this.fillInTheBlanks()})}fillInTheBlanks(){this.isAddMode=!this.petId,this.form=this.formBuilder.group({name:["",n.l.required],title:["",n.l.required],description:[""],cityId:["",n.l.required],raceId:[""],ageValue:["None"],genderValue:["None"],sizeValue:["None"],fromWhereValue:["None"],petTypeValue:[this.petType]}),this.client.getCities().subscribe(e=>{this.data.cities=e}),this.client.getAges().subscribe(e=>{this.data.ages=e}),this.client.getGenders().subscribe(e=>{this.data.genders=e}),this.client.getSizes().subscribe(e=>{this.data.sizes=e}),this.client.getFromWhere().subscribe(e=>{this.data.fromWhere=e}),this.isAddMode?(this.client.getPetTypes().subscribe(e=>{this.pageTitle=e.find(e=>e.value.toLowerCase()==this.petType).text}),this.client.getRacesForPetType(this.petType).subscribe(e=>{this.data.races=e})):this.client.getPet(this.petId).pipe(Object(N.a)()).subscribe(e=>{this.form.patchValue(e),this.form.patchValue({cityId:e.city.value,raceId:e.race.id,genderValue:e.gender.value,ageValue:e.age.value,sizeValue:e.size.value,fromWhereValue:e.fromWhere.value}),this.pageTitle=e.petType.text,this.client.getRacesForPetType(e.petType.value).subscribe(e=>{this.data.races=e})})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.isAddMode?this.createAccount():this.updateAccount())}createAccount(){this.client.createPet(this.form.value).pipe(Object(N.a)()).subscribe({next:e=>{this.alertService.success("Pet ba\u015far\u0131yla eklendi.",{keepAfterRouteChange:!0}),this.router.navigate(["/pet/"+e.id],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}})}updateAccount(){this.client.updatePet(this.petId,this.form.value).pipe(Object(N.a)()).subscribe({next:()=>{this.alertService.success("G\xfcncelleme ba\u015far\u0131l\u0131.",{keepAfterRouteChange:!0}),this.router.navigate(["/pet/"+this.petId],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}})}}return e.\u0275fac=function(t){return new(t||e)(o.Ib(n.c),o.Ib(a.a),o.Ib(a.c),o.Ib(b.b),o.Ib(l.f))},e.\u0275cmp=o.Cb({type:e,selectors:[["ng-component"]],decls:69,vars:47,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","cityId",1,"form-control",3,"ngClass"],["value",""],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","raceId",1,"form-control",3,"ngClass"],["formControlName","genderValue",1,"form-control",3,"ngClass"],["formControlName","ageValue",1,"form-control",3,"ngClass"],["formControlName","sizeValue",1,"form-control",3,"ngClass"],["formControlName","fromWhereValue",1,"form-control",3,"ngClass"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],[1,"form-group","col-7"],["type","text","formControlName","description",1,"form-control",3,"ngClass"],[1,"form-group"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","/",1,"btn","btn-link"],[1,"invalid-feedback"],[3,"value","selected"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){1&e&&(o.mc(0,M,2,1,"h1",0),o.mc(1,x,2,1,"h1",0),o.Nb(2,"form",1),o.Ub("ngSubmit",(function(){return t.onSubmit()})),o.Nb(3,"div",2),o.Nb(4,"div",3),o.Nb(5,"label"),o.nc(6,"\u0130smi *"),o.Mb(),o.Jb(7,"input",4),o.mc(8,I,2,1,"div",5),o.Mb(),o.Mb(),o.Nb(9,"div",2),o.Nb(10,"div",3),o.Nb(11,"label"),o.nc(12,"\u015eehir *"),o.Mb(),o.Nb(13,"select",6),o.Nb(14,"option",7),o.nc(15,"-"),o.Mb(),o.mc(16,k,2,3,"option",8),o.Mb(),o.mc(17,w,2,1,"div",5),o.Mb(),o.Nb(18,"div",3),o.Nb(19,"label"),o.nc(20,"Irk\u0131"),o.Mb(),o.Nb(21,"select",9),o.Nb(22,"option",7),o.nc(23,"-"),o.Mb(),o.mc(24,S,2,3,"option",8),o.Mb(),o.mc(25,V,1,0,"div",5),o.Mb(),o.Mb(),o.Nb(26,"div",2),o.Nb(27,"div",3),o.Nb(28,"label"),o.nc(29,"Cinsiyeti"),o.Mb(),o.Nb(30,"select",10),o.mc(31,W,2,3,"option",8),o.Mb(),o.mc(32,j,1,0,"div",5),o.Mb(),o.Nb(33,"div",3),o.Nb(34,"label"),o.nc(35,"Ya\u015f\u0131"),o.Mb(),o.Nb(36,"select",11),o.mc(37,z,2,3,"option",8),o.Mb(),o.mc(38,J,1,0,"div",5),o.Mb(),o.Mb(),o.Nb(39,"div",2),o.Nb(40,"div",3),o.Nb(41,"label"),o.nc(42,"Boyutu"),o.Mb(),o.Nb(43,"select",12),o.mc(44,T,2,3,"option",8),o.Mb(),o.mc(45,A,1,0,"div",5),o.Mb(),o.Nb(46,"div",3),o.Nb(47,"label"),o.nc(48,"Kimden"),o.Mb(),o.Nb(49,"select",13),o.mc(50,P,2,3,"option",8),o.Mb(),o.mc(51,O,1,0,"div",5),o.Mb(),o.Mb(),o.Nb(52,"div",2),o.Nb(53,"div",3),o.Nb(54,"label"),o.nc(55,"Ba\u015fl\u0131k *"),o.Mb(),o.Jb(56,"input",14),o.mc(57,E,2,1,"div",5),o.Mb(),o.Nb(58,"div",15),o.Nb(59,"label"),o.nc(60,"A\xe7\u0131klama"),o.Mb(),o.Jb(61,"input",16),o.mc(62,q,1,0,"div",5),o.Mb(),o.Mb(),o.Nb(63,"div",17),o.Nb(64,"button",18),o.mc(65,B,1,0,"span",19),o.nc(66," Kaydet "),o.Mb(),o.Nb(67,"a",20),o.nc(68,"\u0130ptal"),o.Mb(),o.Mb(),o.Mb()),2&e&&(o.cc("ngIf",t.isAddMode),o.xb(1),o.cc("ngIf",!t.isAddMode),o.xb(1),o.cc("formGroup",t.form),o.xb(5),o.cc("ngClass",o.gc(29,L,t.submitted&&t.f.name.errors)),o.xb(1),o.cc("ngIf",t.submitted&&t.f.name.errors),o.xb(5),o.cc("ngClass",o.gc(31,L,t.submitted&&t.f.cityId.errors)),o.xb(3),o.cc("ngForOf",t.data.cities),o.xb(1),o.cc("ngIf",t.submitted&&t.f.cityId.errors),o.xb(4),o.cc("ngClass",o.gc(33,L,t.submitted&&t.f.raceId.errors)),o.xb(3),o.cc("ngForOf",t.data.races),o.xb(1),o.cc("ngIf",t.submitted&&t.f.raceId.errors),o.xb(5),o.cc("ngClass",o.gc(35,L,t.submitted&&t.f.genderValue.errors)),o.xb(1),o.cc("ngForOf",t.data.genders),o.xb(1),o.cc("ngIf",t.submitted&&t.f.genderValue.errors),o.xb(4),o.cc("ngClass",o.gc(37,L,t.submitted&&t.f.ageValue.errors)),o.xb(1),o.cc("ngForOf",t.data.ages),o.xb(1),o.cc("ngIf",t.submitted&&t.f.ageValue.errors),o.xb(5),o.cc("ngClass",o.gc(39,L,t.submitted&&t.f.sizeValue.errors)),o.xb(1),o.cc("ngForOf",t.data.sizes),o.xb(1),o.cc("ngIf",t.submitted&&t.f.sizeValue.errors),o.xb(4),o.cc("ngClass",o.gc(41,L,t.submitted&&t.f.fromWhereValue.errors)),o.xb(1),o.cc("ngForOf",t.data.fromWhere),o.xb(1),o.cc("ngIf",t.submitted&&t.f.fromWhereValue.errors),o.xb(5),o.cc("ngClass",o.gc(43,L,t.submitted&&t.f.title.errors)),o.xb(1),o.cc("ngIf",t.submitted&&t.f.title.errors),o.xb(4),o.cc("ngClass",o.gc(45,L,t.submitted&&t.f.description.errors)),o.xb(1),o.cc("ngIf",t.submitted&&t.f.description.errors),o.xb(2),o.cc("disabled",t.loading),o.xb(1),o.cc("ngIf",t.loading))},directives:[c.k,n.n,n.h,n.e,n.b,n.g,n.d,c.i,n.k,n.i,n.m,c.j,a.f],encapsulation:2}),e})();var D=i("XgRA");const G=[{path:"",component:r,children:[{path:":id",component:v},{path:"add/:type",component:R,canActivate:[D.a]},{path:"edit/:id",component:R,canActivate:[D.a]}]}];let U=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[a.g.forChild(G)],a.g]}),e})(),K=(()=>{class e{}return e.\u0275mod=o.Gb({type:e}),e.\u0275inj=o.Fb({factory:function(t){return new(t||e)},imports:[[c.b,n.j,U,d.a]]}),e})()}}]);